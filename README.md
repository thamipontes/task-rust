# task-rust
Create and List yout tasks!

# Docker
After downloading the application on your machine, you will need run docker-compose. If you don't have Docker, you can download it via the links below:

- Windows:
    - https://docs.docker.com/docker-for-windows/install/
- Linux:
  - https://docs.docker.com/engine/install/ubuntu/
- Mac:
  - https://docs.docker.com/docker-for-mac/install/

Docker-compose:
- https://docs.docker.com/compose/install/

# Run 
Once you have Docker and Docker-compose installed, simply run the command below in the root of the project:
```bash
docker-compose up -d
```
ps: it might take a while

# Pgadmin
With Pgadmin you will be able to see the data that is being saved in the database.
- Access the link http://localhost:5050/
- Log in with the username and password below:
  - User: pgadmin4@pgadmin.org
  - Password: admin
- Right click on Servers and select Register > Server
- In the General tab, enter the server name as "Tasks"
- In the Connection tab, enter the data below:
    - Host name/address: host.docker.internal
    - Port: 5433
    - Maintenance database: tasks
    - Username: postgres
    - Password: root

# Task

## Create a Task

- Step 1: Use the curl below

```bash
curl --location 'http://localhost:8080/register' \
--header 'Content-Type: application/json' \
--header 'Cookie: JSESSIONID=D1D746CC044C01430F4F46F63CC5F2EF' \
--data '{
    "name": "Make a cake"
}'
```

- Step 2: Use pgadmin to check if the data was saved in the database

## List all Tasks

- Step 1: Use the curl below

```bash
curl --location 'http://localhost:8080/tasks' \
--header 'Cookie: JSESSIONID=D1D746CC044C01430F4F46F63CC5F2EF'
```

# Authentication

## Create a User

```bash
curl --location 'http://localhost:8080/users' \
--header 'Content-Type: application/json' \
--header 'Cookie: JSESSIONID=D1D746CC044C01430F4F46F63CC5F2EF' \
--data-raw '{
    "email": "test@test.com",
    "password": "123"
}'
```

## Login with user to generate the access token

```bash
curl --location 'http://localhost:8080/login' \
--header 'Content-Type: application/json' \
--header 'Cookie: JSESSIONID=D1D746CC044C01430F4F46F63CC5F2EF' \
--data-raw '{
    "email": "test@test.com",
    "password": "123"
}'
```

## Authentication

- Step 1: With the access token generated by login, use the curl below (remember change the Authorization for the access token generated by login)

```bash
curl --location --request GET 'http://localhost:8080/user_profile' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6InRlc3QxQHRlc3QuY29tIiwiZXhwIjoxNzAxODk4NDMxfQ._68hhx5Rfi1-exzw-C0rtoNqiCuU6qp0czNN2aXA4Nw' \
--header 'Cookie: JSESSIONID=D1D746CC044C01430F4F46F63CC5F2EF' \
```

